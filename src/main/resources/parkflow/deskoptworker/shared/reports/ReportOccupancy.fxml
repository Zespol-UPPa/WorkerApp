<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.chart.AreaChart?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<VBox prefWidth="1110.0" spacing="8" style="-fx-background-color: transparent;" stylesheets="@../../styles/reports.css, @../../styles/mainPanel.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="parkflow.deskoptworker.Controllers.sharedPanels.Reports.ReportOccupancyController">

    <VBox spacing="12" style="-fx-background-color: transparent;">

        <!-- Title section -->
        <VBox spacing="4">
            <Label styleClass="main_title" text="Occupancy Analysis" />
            <Label styleClass="main_subtitle" text="Real-time analytics and performance metrics" />
        </VBox>


        <!-- Top 3 Metric Cards (white cards, no icons) -->
        <GridPane hgap="16" vgap="16">
            <columnConstraints>
                <ColumnConstraints hgrow="ALWAYS" percentWidth="33.33" />
                <ColumnConstraints hgrow="ALWAYS" percentWidth="33.33" />
                <ColumnConstraints hgrow="ALWAYS" percentWidth="33.33" />
            </columnConstraints>

            <!-- Metric Card 1: Current Occupancy -->
            <fx:include source="../../components/MetricCard.fxml" fx:id="currentOccupancyCard" GridPane.columnIndex="0" GridPane.rowIndex="0" />

            <!-- Metric Card 2: Peak Today -->
            <fx:include source="../../components/MetricCard.fxml" fx:id="peakTodayCard" GridPane.columnIndex="1" GridPane.rowIndex="0" />

            <!-- Metric Card 3: Low Today -->
            <fx:include source="../../components/MetricCard.fxml" fx:id="lowTodayCard" GridPane.columnIndex="2" GridPane.rowIndex="0" />
        </GridPane>

        <!-- Charts Row - Hourly Pattern & Weekly Trend -->
        <HBox spacing="20.0" VBox.vgrow="ALWAYS">
            <!-- Hourly Occupancy Pattern - Area Chart -->
            <VBox styleClass="section_vbox" HBox.hgrow="ALWAYS" VBox.vgrow="ALWAYS">
                <Label styleClass="section_title" text="Hourly Occupancy Pattern" />
                <AreaChart fx:id="hourlyOccupancyChart" legendVisible="false" minHeight="300" prefHeight="300" VBox.vgrow="ALWAYS">
                    <xAxis>
                        <CategoryAxis side="BOTTOM" />
                    </xAxis>
                    <yAxis>
                        <NumberAxis label="Occupancy %" side="LEFT" />
                    </yAxis>
                </AreaChart>
            </VBox>

            <!-- Weekly Occupancy Trend - Bar Chart -->
            <VBox styleClass="section_vbox" HBox.hgrow="ALWAYS" VBox.vgrow="ALWAYS">
                <Label styleClass="section_title" text="Weekly Occupancy Trend" />
                <BarChart fx:id="weeklyOccupancyChart" legendVisible="false" minHeight="300" prefHeight="300" VBox.vgrow="ALWAYS">
                    <xAxis>
                        <CategoryAxis side="BOTTOM" />
                    </xAxis>
                    <yAxis>
                        <NumberAxis label="Occupancy %" side="LEFT" />
                    </yAxis>
                </BarChart>
            </VBox>
        </HBox>

        <!-- Individual Parking Analysis Section -->
        <VBox spacing="16" styleClass="section_vbox">
            <Label styleClass="section_title" text="Individual Parking Analysis" />
            <VBox fx:id="parkingPerformanceContainer" spacing="12" />
        </VBox>

    </VBox>

</VBox>
