<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import java.net.URL?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="parkflow.deskoptworker.Controllers.sharedPanels.DashboardController">
    <stylesheets>
        <URL value="@../styles/dashboard.css" />
        <URL value="@../styles/mainPanel.css" />
    </stylesheets>
    <ScrollPane fitToHeight="true" fitToWidth="true" hbarPolicy="NEVER" VBox.vgrow="ALWAYS">
        <styleClass>
            <String fx:value="scroll-pane" />
            <String fx:value="scroll-bar" />
        </styleClass>
        <VBox styleClass="dashboard_container">
            <!-- Header Section -->
            <HBox maxHeight="100" minHeight="70" prefHeight="80" spacing="20">
                <VBox minWidth="300" spacing="5" HBox.hgrow="ALWAYS">
                    <Label maxWidth="Infinity" styleClass="dashboard_title" text="Dashboard Overview" wrapText="true" />
                    <Label maxWidth="Infinity" styleClass="dashboard_subtitle" text="Welcome back! Here's what's happening today." wrapText="true" />
                </VBox>

                <Region minWidth="20" HBox.hgrow="SOMETIMES" />

                <VBox alignment="TOP_RIGHT" minWidth="200" spacing="2">
                    <Label styleClass="time_label" text="Current Time" />
                    <Label fx:id="currentTimeLabel" styleClass="time_value" text="06:09:58 PM" />
                    <Label fx:id="currentDateLabel" maxWidth="250" styleClass="time_label" text="Tuesday, 25 November 2025" wrapText="true" />
                </VBox>
            </HBox>

            <!-- Top 3 Metric Cards -->
            <HBox styleClass="stats_container">
                <fx:include fx:id="occupancyCard" source="../components/MetricCard.fxml" HBox.hgrow="ALWAYS" />
                <fx:include fx:id="revenueCard" source="../components/MetricCard.fxml" HBox.hgrow="ALWAYS" />
                <fx:include fx:id="parkingUsageCard" source="../components/MetricCard.fxml" HBox.hgrow="ALWAYS" />
            </HBox>

            <!-- Quick Actions Section -->
            <VBox alignment="CENTER" spacing="15" styleClass="section_vbox" VBox.vgrow="ALWAYS">
                <Label styleClass="section_title" text="Quick Actions" />

                <!-- Quick Action Cards Container -->
                <HBox alignment="CENTER" spacing="30">
                    <!-- Reports Card (for both ADMIN and WORKER) -->
                    <VBox fx:id="reportsCard" alignment="CENTER" minHeight="380.0" onMouseClicked="#handleReportsClick" prefHeight="380.0" spacing="20" styleClass="quick-action-card" HBox.hgrow="ALWAYS">
                        <ImageView fitHeight="100" fitWidth="100" preserveRatio="true">
                            <Image url="@../images/cashBig.png" />
                        </ImageView>
                        <Label styleClass="quick-action-title" text="Financial Reports" />
                        <Label styleClass="quick-action-description" text="View detailed financial analytics and reports" textAlignment="CENTER" wrapText="true" />
                        <Button styleClass="quick-action-button" text="Go to Reports" />
                    </VBox>

                    <!-- Parkings Card (ADMIN only) or Settings Card (WORKER only) -->
                    <VBox fx:id="secondCard" alignment="CENTER" minHeight="380.0" onMouseClicked="#handleSecondCardClick" prefHeight="380.0" spacing="20" styleClass="quick-action-card" HBox.hgrow="ALWAYS">
                        <ImageView fx:id="secondCardImage" fitHeight="100" fitWidth="100" preserveRatio="true">
                            <Image url="@../images/parkingBig.png" />
                        </ImageView>
                        <Label fx:id="secondCardTitle" styleClass="quick-action-title" text="Parkings" />
                        <Label fx:id="secondCardDescription" styleClass="quick-action-description" text="Manage parking locations and pricing" textAlignment="CENTER" wrapText="true" />
                        <Button fx:id="secondCardButton" styleClass="quick-action-button" text="Go to Parkings" />
                    </VBox>
                </HBox>
            </VBox>

            <!-- Footer spacing -->
            <Region minHeight="30" />
        </VBox>
    </ScrollPane>
</VBox>
